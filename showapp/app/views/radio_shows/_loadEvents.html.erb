
	<% @radio_show = Array.new{Array.new};%>
<% @radio_shows.each do |radio_show_instance| %>
	<%radio_show_instance.show_timings.each do |show_timing|%>
	<%	@radio_show.push( [radio_show_instance, show_timing.startTime.hour, show_timing.startTime.min, show_timing.startTime.sec, show_timing.endTime.hour, show_timing.endTime.min, show_timing.endTime.sec]); %>
	<% end%>
<% end%>
<%  @radio_show = @radio_show.sort_by {|e| [e[1],e[2],e[3]]} %>
<%  time = Time.now %>
<%  cur_time = Time.at(time.hour * 60 * 60 + time.min * 60 + time.sec)%>

<ol id="navlist2" height="1em" >
<% @radio_show.each do |show| %>
	<%  start_time = Time.at(show[1] * 60 * 60 + show[2] * 60 + show[3])%>
	<%  end_time = Time.at(show[4] * 60 * 60 + show[5] * 60 + show[6])%>
	<%  if ( cur_time > end_time) %>
		<li id =elapsed><%= link_to show[0].name, show[0] %></li>
	<%end%>
<% end%>
</ol>

<ol id="curlist" >
	<% found_current = false %>
<% @radio_show.each do |show| %>
	<%  start_time = Time.at(show[1] * 60 * 60 + show[2] * 60 + show[3])%>
	<%  end_time = Time.at(show[4] * 60 * 60 + show[5] * 60 + show[6])%>
	<% if ((cur_time >= start_time) && (cur_time <= end_time))%>
		<% found_current = true %>
		<% time_remaining_hours = ((end_time-cur_time)/3600).to_i%>
		<% time_remaining_minutes = ((end_time-cur_time-time_remaining_hours*3600)/60).to_i%>
		<% time_remaining_seconds = ((end_time-cur_time)%60).to_i%>
		
		<li id =current> <%= link_to show[0].name+" [[ "+time_remaining_hours.to_s+" HOURS "+time_remaining_minutes.to_s+" MINUTES "+time_remaining_seconds.to_s+" SECONDS LEFT ]]", show[0] %></li>
	
	
	
	
	<%end%>
<% end%>
	<% if found_current == false%>
		<li id =current>BREAK</li>
	<%end%>
	
</ol>

<ol id="navlist2" height="3em" >
<% @radio_show.each do |show| %>
	<%  start_time = Time.at(show[1] * 60 * 60 + show[2] * 60 + show[3])%>
	<%  end_time = Time.at(show[4] * 60 * 60 + show[5] * 60 + show[6])%>
	<% if (cur_time < start_time)%>
		<% time_remaining_hours = ((start_time-cur_time)/3600).to_i%>
		<% time_remaining_minutes = ((start_time-cur_time-time_remaining_hours*3600)/60).to_i%>
		<% time_remaining_seconds = ((start_time-cur_time)%60).to_i%>
		
		<% if ((start_time-cur_time) <= @current_user.flashTime)  %>
        <li id = upcoming_soon><%= link_to show[0].name+" [[ UP IN "+time_remaining_hours.to_s + " HOURS " + time_remaining_minutes.to_s + " MINUTES " + time_remaining_seconds.to_s + " SECONDS ]]", show[0] %></li>
 <% else%>
        <li id = upcoming><%= link_to show[0].name+" [[ UP IN "+time_remaining_hours.to_s + " HOURS " + time_remaining_minutes.to_s + " MINUTES " + time_remaining_seconds.to_s + " SECONDS ]]", show[0] %></li>
 <% end %>
		
		
		
		
		<!-- <li id = upcoming><%= link_to show[0].name+" [[ UP IN "+time_remaining_hours.to_s + " HOURS " + time_remaining_minutes.to_s + " MINUTES " + time_remaining_seconds.to_s + " SECONDS ]]", show[0] %></li> -->
	<%end%>
<% end%>
</ol>

